{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/theory.css' %}" />
  <style>
    .navbar-nav,
    .navbar-nav li {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
  </style>
{% endblock %}

{% block content %}
<main class="page">
    <h1 class="title">Collisions — momentum, energy and restitution</h1>
    <p class="subtitle">Two-sphere collisions: what is conserved, how to classify collisions, and how to compute outcomes</p>

    <div class="lead">
        In this chapter we study the collision of two rigid spheres on a low-friction surface. We focus on linear
        momentum conservation, the role of kinetic energy, and the coefficient of restitution that quantifies how “bouncy” a
        collision is.
        The model below is idealized (no rotation, negligible air drag, contact time very small).
    </div>

    <section class="section">
        <h2>System model</h2>
        <p>
            Consider two spheres with masses <em>m1</em> and <em>m2</em>, initial velocities
            <em>u1</em> and <em>u2</em> (vectors), and final velocities <em>v1</em> and <em>v2</em>.
            Collisions can be analyzed along the line of impact (the line joining centers at contact).
        </p>
        <p>
            Assumptions for the basic model: rigid spheres, central impact (no spin), flat surface with negligible
            friction.
            We first solve the 1D case (collinear velocities), then the 2D vector case.
        </p>
    </section>

    <section class="section">
        <h2>Conservation of linear momentum</h2>
        <p>
            Linear momentum is conserved for the system (in absence of external impulses):
        </p>
        <div class="formula">$$m_1 u_1 + m_2 u_2 = m_1 v_1 + m_2 v_2$$</div>
        <p>
            This relation is vectorial in 2D/3D. In 1D (motion on a straight line), it is a scalar equation.
        </p>
    </section>

    <section class="section">
        <h2>Coefficient of restitution (e)</h2>
        <p>
            The coefficient of restitution <em>e</em> measures “bounciness”. It is defined along the line of impact
            as:
        </p>
        <div class="formula">e = (relative speed of separation) / (relative speed of approach)</div>
    <div class="formula">$$e = \dfrac{|v_2 - v_1|}{|u_1 - u_2|}\quad\text{(1D, with velocities on the same line)}$$</div>
        <p>
            Typical values: <em>e = 1</em> elastic collision (kinetic energy conserved),
            <em>0 &lt; e &lt; 1</em> inelastic (some energy lost),
            <em>e = 0</em> perfectly inelastic (objects move together after impact).
        </p>
    </section>

    <section class="section">
        <h2>1D outcomes (collinear velocities)</h2>
        <p>
            Using momentum conservation and the restitution relation, the final velocities in 1D are:
        </p>
        <div class="formula">$$v_1 = \dfrac{m_1 - e m_2}{m_1 + m_2}\,u_1 + \dfrac{(1+e)m_2}{m_1 + m_2}\,u_2$$</div>
        <div class="formula">$$v_2 = \dfrac{(1+e)m_1}{m_1 + m_2}\,u_1 + \dfrac{m_2 - e m_1}{m_1 + m_2}\,u_2$$</div>
        <p>
            Special case: elastic collision (<em>e = 1</em>).
        </p>
        <div class="formula">$$v_1 = \dfrac{m_1 - m_2}{m_1 + m_2}\,u_1 + \dfrac{2 m_2}{m_1 + m_2}\,u_2$$</div>
        <div class="formula">$$v_2 = \dfrac{2 m_1}{m_1 + m_2}\,u_1 + \dfrac{m_2 - m_1}{m_1 + m_2}\,u_2$$</div>
        <p>
            For equal masses and <em>e = 1</em>, the spheres simply exchange their velocities.
        </p>
    </section>

    <section class="section">
        <h2>Energy considerations</h2>
        <p>
            In elastic collisions, kinetic energy is conserved:
        </p>
    <div class="formula">$$\tfrac{1}{2} m_1 |u_1|^{2} + \tfrac{1}{2} m_2 |u_2|^{2} = \tfrac{1}{2} m_1 |v_1|^{2} + \tfrac{1}{2} m_2 |v_2|^{2}$$</div>
        <p>
            For inelastic collisions (<em>e &lt; 1</em>) kinetic energy decreases, while momentum remains conserved.
        </p>
    </section>

    <section class="section">
        <h2>2D collisions — vector approach</h2>
        <p>
            In 2D, decompose velocities into components along the line of impact (normal) and perpendicular to it
            (tangential).
            Only the normal components change according to restitution; tangential components remain unchanged (for
            smooth spheres).
        </p>
        <ol>
            <li>Compute the unit normal at contact: <em>n = (r2 − r1) / |r2 − r1|</em>.</li>
            <li>Project velocities on <em>n</em>: <em>u1n = u1·n</em>, <em>u2n = u2·n</em>. Tangential parts stay
                the same.</li>
            <li>Apply the 1D formulas to <em>u1n, u2n</em> using <em>e</em>, get <em>v1n, v2n</em>.</li>
            <li>Reconstruct final vectors: <em>v1 = v1n n + u1t</em>, <em>v2 = v2n n + u2t</em>, where <em>u1t = u1
                    − (u1·n) n</em>.</li>
        </ol>
    </section>

    <section class="section">
        <h2>Center-of-mass (COM) frame — intuition</h2>
        <p>
            In the COM frame, momentum is zero before and after collision. For elastic impacts, speeds relative to
            COM are preserved,
            but directions reflect along the normal. This often simplifies reasoning and debugging.
        </p>
    </section>

    <section class="section">
        <h2>Lab tips for the simulation</h2>
        <ul>
            <li>Start with 1D head-on collisions to verify formulas (set both along the same axis).</li>
            <li>Vary <em>e</em> from 0 to 1 to see how separation speed changes.</li>
            <li>Try equal masses vs very different masses to build intuition.</li>
            <li>For 2D, visualize normal and tangential components at impact.</li>
        </ul>
    </section>
</main>

<!-- Collision animation -->
<section class="theory-footer-anim">
    <div class="anim-card coll-wrap">
        <div class="track">
            <div class="ball ball-left"></div>
            <div class="ball ball-right"></div>
        </div>
        <p class="anim-caption">Elastic collision — momentum conserved, speed exchanged in 1D (m₁ = m₂)</p>
    </div>
</section>
{% endblock %}
